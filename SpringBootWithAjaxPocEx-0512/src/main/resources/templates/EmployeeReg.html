<html xmlns:th="http://www.thymeleaf.org">

<head>
	<title>WELCOME TO EMPLOYEE REGISTER PAGE!</title>
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css" />
	<script src="https://code.jquery.com/jquery-3.6.1.min.js"></script>
</head>

<body>
	<div class="container">
		<div class="card">
			<div class="card-header bg-info text-white text-center">
				<h1>EMPLOYEE REGISTER PAGE!</h1>
			</div>
			<div class="card-body">
				<form th:action="@{/employee/register}" method="POST">
					<!--row#1-->
					<div class="row">
						<div class="col-3">
							<label>NAME</label>
						</div>
						<div class="col-4">
							<input type="text" name="empName" id="empName" required />
						</div>
						<div>
							<span id="nameError"></span>
						</div>
					</div>
					<!--row#2-->
					<div class="row">
						<div class="col-3">
							<label>EMAIL</label>
						</div>
						<div class="col-4">
							<input type="text" name="empEmail" id="empEmail" required />
						</div>
						<div class="col-5 text-danger">
							<span id="emailError"></span>
						</div>
					</div>
					<!--row#3-->
					<div class="row">
						<div class="col-3">
							<lable>SAL</lable>
						</div>
						<div class="col-4">
							<input type="text" name="empSal" id="empSal" required />
						</div>
						<div class="col-5">
							<span id="salError"></span>
						</div>
					</div>
					<!--row#4-->
					<div class="row">
						<div class="col-3">
							<lable>DEPT</lable>
						</div>
						<div class="col-4">
							<input type="text" name="empDept" id="empDept" required />
						</div>
						<div class="col-5 text-danger">
							<span id="deptError"></span>
						</div>
					</div>
					<!--row#4-->
					<div class="row">
						<div class="col-3">
							<div colspan="2" class="text-center">
								<input type="submit" value="SUBMIT" class="bg-success text-white">
							</div>
						</div>
					</div>
			</div>
			</form>

			<div th:if="${message}!=null" class="bg-info text-white text-center card-footer">
				<b>[[${message}]]</b> &nbsp &nbsp | &nbsp &nbsp <a th:href="@{/employee/all}"><button class="bg-warning">View
						All</button></a> &nbsp &nbsp | &nbsp &nbsp <a th:href="@{/employee/one}"><button class="bg-danger">FindById</button></a>
			</div>



			<script type="text/javascript">
				$(document).ready(function (){
					$("#empEmail").change(function () {
						$.ajax({
							url: 'checkEmail',
							data: {'empEmail': $("#empEmail").val()},
							success: function (resTxt) {
								if (resTxt != '') {
									$("#emailError").text(resTxt);
									$("#empEmail").val('');
								}
								else {
									$("#emailError").text('');
								}
							}
						});	//ajax ended
					});
				});		
			</script>
		</div>
	</div>
</body>

</html>